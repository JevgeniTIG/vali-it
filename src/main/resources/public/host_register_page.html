<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Host Register</title>
    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Font-->
    <link rel="stylesheet" type="text/css" href="css/roboto-font.css">
    <link rel="stylesheet" type="text/css" href="fonts/line-awesome/css/line-awesome.min.css">
    <!-- Jquery -->
    <link rel="stylesheet" href="https://jqueryvalidation.org/files/demo/site-demos.css">
    <!-- Main Style Css -->
    <link rel="stylesheet" href="css/style.css"/>
</head>
<body class="form-v2">
<div class="container_host_register">
    <img src="images/logo_white.png" alt="logo"/>
</div>
<div class="page-content">
    <div class="form-v2-content">
        <div class="form-left">
            <img src="images/register_host_image.jpg" alt="form">
            <div class="text-1">
                <p>BECOME A HOST</p>
            </div>
            <div class="text-2">
                <p><span>earn money</span>with us</p>
            </div>
        </div>
        <form class="form-detail" action="#" method="post" id="myform">
            <h2>Registration Form</h2>
            <div class="form-row">
                <pre>
So close, no matter how far
Couldn't be much more from the heart
Forever trusting who we are
And nothing else matters

Never opened myself this way
Life is ours, we live it our way
All these words I don't just say
And nothing else matters

Trust I seek and I find in you
Every day for us something new
Open mind for a different view
And nothing else matters

Never cared for what they do
Never cared for what they know
But I know

So close, no matter how far
Couldn't be much more from the heart
Forever trusting who we are
And nothing else matters

Never cared for what they do
Never cared for what they know
But I know

I never opened myself this way
Life is ours, we live it our way
All these words I don't just say
And nothing else matters

Trust I seek and I find in you
Everyâ€¦
                </pre>
            </div>
            <div class="form-row-last">
                <input type="submit" name="register" id="register" class="register" value="Register">
            </div>
        </form>
    </div>
</div>
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
<script>

    //
    var currentUserLogin;
    fetch('/welcome_host', {
        method: 'POST',
        cache: 'no-cache',
        headers: {
            'Content-Type': 'application/json'
        }
    })
        .then(function (response) {
            return response.json();
        })
        .then(function (jsonData) {

            for (var i = 0; i < jsonData.length; ++i) {
                var item = jsonData[i];
                currentUserLogin = item.hostLogin;
            }

        })

        .catch(function (err) {
            console.log(err);
            alert('oops');
        });

    // Registers new host
    let registerButton = document.getElementById("register")
    registerButton.addEventListener('click', function createHost() {

        fetch('/register_new_host', {
            method: 'POST',
            cache: 'no-cache',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({

            })
        })

            .then(function (response) {

                proceedToIndexPage();
            })

            .catch(function (err) {
                alert('Something went wrong');
            });

    });


    function proceedToIndexPage(){
        alert("Congratulations! Now you are a host");
        window.location.href = 'index.html';
    }


</script>
</body><!-- This templates was made by Colorlib (https://colorlib.com) -->
</html>